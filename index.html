<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å‘ŠçŸ¥ç”»åƒã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</title>
    <!-- æ—¥æœ¬èªã®ãŠã—ã‚ƒã‚Œãªãƒ•ã‚©ãƒ³ãƒˆã‚’Googleã‹ã‚‰èª­ã¿è¾¼ã¿ã¾ã™ -->
    <link href="https://fonts.googleapis.com/css2?family=M+PLUS+Rounded+1c:wght@400;800&family=Noto+Sans+JP:wght@700&family=Zen+Kaku+Gothic+New:wght@500&display=swap" rel="stylesheet">
    <style>
        /* --- ã“ã“ã¯ãƒ‡ã‚¶ã‚¤ãƒ³ï¼ˆè¦‹ãŸç›®ï¼‰ã®è¨­å®šã§ã™ --- */
        body {
            font-family: "Helvetica Neue", Arial, "Hiragino Kaku Gothic ProN", sans-serif;
            background-color: #f0f2f5;
            color: #333;
            text-align: center;
            padding: 20px;
            margin: 0;
        }
        h1 {
            color: #2c3e50;
            margin-bottom: 10px;
        }
        .container {
            max-width: 800px;
            margin: 0 auto;
            background: white;
            padding: 30px;
            border-radius: 15px;
            box-shadow: 0 4px 15px rgba(0,0,0,0.1);
            display: flex;
            flex-wrap: wrap;
            gap: 30px;
            justify-content: center;
        }
        .controls {
            flex: 1;
            min-width: 300px;
            text-align: left;
        }
        .preview-area {
            flex: 1;
            min-width: 300px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        label {
            display: block;
            margin-top: 15px;
            font-weight: bold;
            font-size: 0.9rem;
        }
        input, select {
            width: 100%;
            padding: 10px;
            margin-top: 5px;
            border: 2px solid #ddd;
            border-radius: 8px;
            font-size: 1rem;
            box-sizing: border-box;
        }
        input:focus, select:focus {
            border-color: #4a90e2;
            outline: none;
        }
        button {
            margin-top: 25px;
            width: 100%;
            padding: 15px;
            background-color: #4a90e2;
            color: white;
            border: none;
            border-radius: 8px;
            font-size: 1.1rem;
            font-weight: bold;
            cursor: pointer;
            transition: 0.3s;
        }
        button:hover {
            background-color: #357abd;
        }
        /* ã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆç”»åƒç”Ÿæˆå ´æ‰€ï¼‰ã¯ç”»é¢ä¸Šã§ã¯éš ã—ã¦ã€ç”»åƒã‚¿ã‚°ã§ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚’è¡¨ç¤ºã—ã¾ã™ */
        canvas {
            display: none;
        }
        img#previewImg {
            width: 100%;
            max-width: 300px; /* ã‚¹ãƒãƒ›ã§è¦‹ã‚„ã™ã„ã‚µã‚¤ã‚ºã«ç¸®å°è¡¨ç¤º */
            height: auto;
            border: 1px solid #ccc;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        .desc {
            font-size: 0.8rem;
            color: #666;
            margin-top: 5px;
        }
    </style>
</head>
<body>

    <h1>ğŸ¨ å‘ŠçŸ¥ç”»åƒã‚¸ã‚§ãƒãƒ¬ãƒ¼ã‚¿ãƒ¼</h1>
    <p>å…¥åŠ›ã™ã‚‹ã ã‘ã§ã€ã‚¤ãƒ³ã‚¹ã‚¿ã‚„Xç”¨ã®ç”»åƒãŒä½œã‚Œã¾ã™ï¼</p>

    <div class="container">
        <!-- å·¦å´ï¼šå…¥åŠ›ã‚¨ãƒªã‚¢ -->
        <div class="controls">
            <label>ğŸ“… æ—¥ä»˜ (ä¾‹: 8/25 Sat)</label>
            <input type="text" id="inputDate" placeholder="æ—¥ä»˜ã‚’å…¥åŠ›" value="11/25 (Sat)">

            <label>â° æ™‚é–“ (ä¾‹: 18:00 OPEN)</label>
            <input type="text" id="inputTime" placeholder="æ™‚é–“ã‚’å…¥åŠ›" value="18:00 START">

            <label>ğŸ“¢ ã‚¿ã‚¤ãƒˆãƒ« (å‘ŠçŸ¥å†…å®¹)</label>
            <input type="text" id="inputTitle" placeholder="ã‚¿ã‚¤ãƒˆãƒ«ã‚’å…¥åŠ›" value="æ–‡åŒ–ç¥­ãƒ©ã‚¤ãƒ–">

            <label>ğŸ¨ ãƒ‡ã‚¶ã‚¤ãƒ³ã‚’é¸ã¶</label>
            <select id="designSelect">
                <option value="pop">ãƒãƒƒãƒ—ãƒ»ã‚¤ã‚¨ãƒ­ãƒ¼ (å…ƒæ°—ãªæ„Ÿã˜)</option>
                <option value="cool">ãƒŸãƒƒãƒ‰ãƒŠã‚¤ãƒˆãƒ»ãƒ–ãƒ«ãƒ¼ (ã‹ã£ã“ã„ã„æ„Ÿã˜)</option>
                <option value="elegant">ã‚µãƒ³ã‚»ãƒƒãƒˆãƒ»ãƒ”ãƒ³ã‚¯ (ãŠã—ã‚ƒã‚Œãªæ„Ÿã˜)</option>
            </select>

            <button onclick="downloadImage()">ç”»åƒã‚’ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ â¬‡ï¸</button>
            <p class="desc">â€»ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰ãƒœã‚¿ãƒ³ã‚’æŠ¼ã™ã¨ç”»åƒãŒä¿å­˜ã•ã‚Œã¾ã™ã€‚</p>
        </div>

        <!-- å³å´ï¼šãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼ã‚¨ãƒªã‚¢ -->
        <div class="preview-area">
            <label>ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼</label>
            <!-- ã“ã“ã«ç”Ÿæˆã•ã‚ŒãŸç”»åƒãŒè¡¨ç¤ºã•ã‚Œã¾ã™ -->
            <img id="previewImg" alt="ãƒ—ãƒ¬ãƒ“ãƒ¥ãƒ¼">
        </div>
    </div>

    <!-- éš ã‚ŒãŸã‚­ãƒ£ãƒ³ãƒã‚¹ï¼ˆã“ã“ã§å®Ÿéš›ã«çµµã‚’æã„ã¦ã„ã¾ã™ï¼‰ -->
    <canvas id="myCanvas" width="1080" height="1920"></canvas>

    <script>
        // --- ã“ã“ã¯ãƒ—ãƒ­ã‚°ãƒ©ãƒ ï¼ˆå‹•ãï¼‰ã®è¨­å®šã§ã™ ---

        // HTMLã®è¦ç´ ï¼ˆéƒ¨å“ï¼‰ã‚’å¤‰æ•°ã«å…¥ã‚Œã¾ã™
        const canvas = document.getElementById('myCanvas');
        const ctx = canvas.getContext('2d');
        const previewImg = document.getElementById('previewImg');
        
        const inputDate = document.getElementById('inputDate');
        const inputTime = document.getElementById('inputTime');
        const inputTitle = document.getElementById('inputTitle');
        const designSelect = document.getElementById('designSelect');

        // æ–‡å­—ãªã©ãŒå¤‰æ›´ã•ã‚ŒãŸã‚‰ã€ç”»åƒã‚’æ›¸ãç›´ã™ã‚ˆã†ã«è¨­å®šã—ã¾ã™
        inputDate.addEventListener('input', draw);
        inputTime.addEventListener('input', draw);
        inputTitle.addEventListener('input', draw);
        designSelect.addEventListener('change', draw);

        // ãƒ•ã‚©ãƒ³ãƒˆãŒèª­ã¿è¾¼ã¾ã‚ŒãŸã‚‰å†æç”»ã™ã‚‹ãŸã‚ã®å‡¦ç†
        document.fonts.ready.then(function () {
            draw();
        });

        // æœ€åˆã«ä¸€å›æç”»ã—ã¾ã™
        draw();

        // --- ç”»åƒã‚’æãé–¢æ•°ï¼ˆãƒ¡ã‚¤ãƒ³ã®å‡¦ç†ï¼‰ ---
        function draw() {
            const dateText = inputDate.value;
            const timeText = inputTime.value;
            const titleText = inputTitle.value;
            const design = designSelect.value;

            // ã‚­ãƒ£ãƒ³ãƒã‚¹ã‚’ã‚¯ãƒªã‚¢ï¼ˆå‰ã®çµµã‚’æ¶ˆã™ï¼‰
            ctx.clearRect(0, 0, canvas.width, canvas.height);

            // ãƒ‡ã‚¶ã‚¤ãƒ³ã”ã¨ã®å‡¦ç†
            if (design === 'pop') {
                drawPopDesign(dateText, timeText, titleText);
            } else if (design === 'cool') {
                drawCoolDesign(dateText, timeText, titleText);
            } else if (design === 'elegant') {
                drawElegantDesign(dateText, timeText, titleText);
            }

            // æã„ãŸçµµã‚’ç”»åƒãƒ‡ãƒ¼ã‚¿(URL)ã«å¤‰æ›ã—ã¦ã€<img>ã‚¿ã‚°ã«ã‚»ãƒƒãƒˆ
            previewImg.src = canvas.toDataURL('image/png');
        }

        // --- ãƒ‡ã‚¶ã‚¤ãƒ³1ï¼šãƒãƒƒãƒ—ãƒ»ã‚¤ã‚¨ãƒ­ãƒ¼ ---
        function drawPopDesign(date, time, title) {
            // èƒŒæ™¯
            ctx.fillStyle = '#FFD700'; // é‡‘è‰²ã«è¿‘ã„é»„è‰²
            ctx.fillRect(0, 0, 1080, 1920);

            // è£…é£¾ï¼ˆæ–œã‚ã®ã‚¹ãƒˆãƒ©ã‚¤ãƒ—ï¼‰
            ctx.fillStyle = '#FFA500'; // ã‚ªãƒ¬ãƒ³ã‚¸
            for(let i=-1000; i<3000; i+=100) {
                ctx.beginPath();
                ctx.moveTo(i, 0);
                ctx.lineTo(i+50, 0);
                ctx.lineTo(i-1000, 1920);
                ctx.lineTo(i-1050, 1920);
                ctx.fill();
            }

            // ç™½ã„æ 
            ctx.fillStyle = 'white';
            ctx.fillRect(100, 400, 880, 1120);
            ctx.strokeStyle = 'black';
            ctx.lineWidth = 10;
            ctx.strokeRect(100, 400, 880, 1120);

            // æ–‡å­—è¨­å®š
            ctx.fillStyle = '#333';
            ctx.textAlign = 'center';

            // ã‚¿ã‚¤ãƒˆãƒ«
            ctx.font = '800 120px "M PLUS Rounded 1c"';
            ctx.fillText(title, 540, 700);

            // æ—¥ä»˜
            ctx.fillStyle = '#FF4500'; // ã‚ªãƒ¬ãƒ³ã‚¸ãƒ¬ãƒƒãƒ‰
            ctx.font = 'bold 100px "Arial"';
            ctx.fillText(date, 540, 1000);

            // æ™‚é–“
            ctx.fillStyle = '#333';
            ctx.font = 'bold 80px "Arial"';
            ctx.fillText(time, 540, 1200);

            // "NOTICE"ã®ãƒãƒƒã‚¸
            ctx.fillStyle = 'black';
            ctx.fillRect(340, 350, 400, 100);
            ctx.fillStyle = 'white';
            ctx.font = 'bold 60px "Arial"';
            ctx.fillText("NOTICE", 540, 420);
        }

        // --- ãƒ‡ã‚¶ã‚¤ãƒ³2ï¼šãƒŸãƒƒãƒ‰ãƒŠã‚¤ãƒˆãƒ»ãƒ–ãƒ«ãƒ¼ ---
        function drawCoolDesign(date, time, title) {
            // èƒŒæ™¯
            ctx.fillStyle = '#0f2027'; // æ¿ƒã„ç´ºè‰²
            ctx.fillRect(0, 0, 1080, 1920);
            
            // ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³èƒŒæ™¯è£…é£¾
            let grad = ctx.createLinearGradient(0, 0, 1080, 1920);
            grad.addColorStop(0, '#203a43');
            grad.addColorStop(1, '#2c5364');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, 1080, 1920);

            // ãƒã‚ªãƒ³é¢¨ã®æ ç·š
            ctx.strokeStyle = '#00d2ff'; // æ°´è‰²
            ctx.lineWidth = 20;
            ctx.strokeRect(50, 50, 980, 1820);

            ctx.textAlign = 'center';

            // ã‚¿ã‚¤ãƒˆãƒ«
            ctx.shadowColor = "#00d2ff";
            ctx.shadowBlur = 30;
            ctx.fillStyle = '#ffffff';
            ctx.font = '700 130px "Noto Sans JP"';
            ctx.fillText(title, 540, 800);
            ctx.shadowBlur = 0; // å½±ã‚’ãƒªã‚»ãƒƒãƒˆ

            // ãƒ©ã‚¤ãƒ³
            ctx.beginPath();
            ctx.moveTo(240, 900);
            ctx.lineTo(840, 900);
            ctx.strokeStyle = 'white';
            ctx.lineWidth = 5;
            ctx.stroke();

            // æ—¥ä»˜ã¨æ™‚é–“
            ctx.fillStyle = '#00d2ff';
            ctx.font = '500 90px "Zen Kaku Gothic New"';
            ctx.fillText(date, 540, 1050);
            ctx.fillText(time, 540, 1200);
        }

        // --- ãƒ‡ã‚¶ã‚¤ãƒ³3ï¼šã‚µãƒ³ã‚»ãƒƒãƒˆãƒ»ãƒ”ãƒ³ã‚¯ ---
        function drawElegantDesign(date, time, title) {
            // èƒŒæ™¯ã‚°ãƒ©ãƒ‡ãƒ¼ã‚·ãƒ§ãƒ³
            let grad = ctx.createLinearGradient(0, 0, 0, 1920);
            grad.addColorStop(0, '#ff9a9e');
            grad.addColorStop(1, '#fecfef');
            ctx.fillStyle = grad;
            ctx.fillRect(0, 0, 1080, 1920);

            // åŠé€æ˜ã®ç™½ã„ãƒœãƒƒã‚¯ã‚¹
            ctx.fillStyle = 'rgba(255, 255, 255, 0.6)';
            ctx.fillRect(140, 500, 800, 920);

            ctx.textAlign = 'center';
            ctx.fillStyle = '#555';

            // è£…é£¾æ–‡å­—
            ctx.font = 'italic 60px "Times New Roman"';
            ctx.fillText("- Information -", 540, 600);

            // ã‚¿ã‚¤ãƒˆãƒ«
            ctx.fillStyle = '#333';
            ctx.font = '500 110px "Zen Kaku Gothic New"';
            
            // é•·ã„ã‚¿ã‚¤ãƒˆãƒ«ã§ã‚‚æŠ˜ã‚Šè¿”ã™å·¥å¤«ï¼ˆç°¡æ˜“ç‰ˆï¼‰
            let splitTitle = title.split('');
            if(title.length > 6) {
                ctx.fillText(title, 540, 850);
            } else {
                ctx.fillText(title, 540, 850);
            }

            // æ—¥ä»˜
            ctx.fillStyle = '#d9534f';
            ctx.font = 'bold 100px "Arial"';
            ctx.fillText(date, 540, 1100);

            // æ™‚é–“
            ctx.fillStyle = '#555';
            ctx.font = 'bold 80px "Arial"';
            ctx.fillText(time, 540, 1250);
        }

        // --- ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰æ©Ÿèƒ½ ---
        function downloadImage() {
            const link = document.createElement('a');
            link.download = 'kokuchi_image.png'; // ä¿å­˜æ™‚ã®ãƒ•ã‚¡ã‚¤ãƒ«å
            link.href = canvas.toDataURL(); // ç”»åƒãƒ‡ãƒ¼ã‚¿ã‚’ãƒªãƒ³ã‚¯ã«ã‚»ãƒƒãƒˆ
            link.click(); // è‡ªå‹•çš„ã«ã‚¯ãƒªãƒƒã‚¯ã—ã¦ãƒ€ã‚¦ãƒ³ãƒ­ãƒ¼ãƒ‰
        }
    </script>
</body>
</html>